<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap-grid.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap-reboot.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/bootstrap/4.1.1/js/bootstrap.bundle.js"></script>
  <style>
    .left {
      width=500px;
      float: left;
      text-align: center;
      padding: 20px;
    }

    .right {
      float: right;
      padding: 60px;
    }
  </style>

</head>

<body>

  <div class="left">
    <h1>信息</h1> code:
    <span type="text" id="code"></span></br>

    <p>date</p>

    name:<span type="text" id="name"></span></br>
    vip_price:<span type="text" id="vip_price"></span></br>
    price:<span type="text" id="price"></span></br>
    unit:<span type="text" id="unit"></span></br>
    quantity:<span type="text" id="quantity"></span></br>

    <h1>pic</h1> front:
    <img id="front" width=“10px” height="200px" src="" /></br>
    side:<img id="side" width=“200px” height="200px" src="" />
  </div class="q1">


  <div class="right">
    <select id="user">
                <option value="0" selected>请选择人：</option>
                <option value="1">彭毅</option>
                <option value="2">彭鑫</option>
    </select>
  </div>

  <!-- Button trigger modal -->
  <button type="button" id="btn" class="btn btn-primary btn-lg">
    购物人
  </button>
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="current_user">
          <div class="q1">
            图像:<img id="avatar" width=“50px” height="50px" src="" /></br>
            姓名:<span type="text" id="name"></span></br>
            会员状态:<span type="text" id="vip"></span></br>
            iPhone价格:<span type="text" id="price"></span></br>
            打折后iPhone价格:<span type="text" id="price1"></span></br>
            有多少钱:<span type="text" id="money"></span></br>
            请选择输入地址:1.上海市奉贤区；2.河南省信阳市（数字1或2）:<input type="text" id="input1"></input>
            </br>
            剩余的钱:<input type="text" id="input2"></input>
            </br>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" id="end" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" id="trues">确定</button>
        </div>
      </div>
    </div>
  </div>


  <button type="button" id="jilu" class="btn btn-primary btn-lg">
    购物记录
  </button>
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="current_user">
          <div class="q2">


          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    var data = {
      code: "0",
      data: {
        name: "iPhone X",
        vip_price: "0.9",
        price: "8688.00",
        unit: "台",
        quantity: "200",
        pic: {
          front: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1532673938394&di=0bf099e1b7837ae5326aac0b08eb91ba&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01683459f30456a801216a4bf5e9e6.jpg%402o.jpg",
          side: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1532673981051&di=997b176fad7259b9cf98652c7a14b80e&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20171107%2F89e431c08fe6416bb37be820d48cd307.jpeg",
        }
      }
    };

    var pengyi = {
      code: "0",
      data: {
        avatar: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1532673938394&di=0bf099e1b7837ae5326aac0b08eb91ba&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01683459f30456a801216a4bf5e9e6.jpg%402o.jpg",
        name: "彭毅",
        vip: "不是",
        price: "8688.00",
        price1: "无打折",
        vip_price: "1",
        money: "8888.00",
        address: {
          addres_one: "上海市奉贤区",
          addres_two: "河南省信阳市"
        }
      }
    };

    var pengxin = {
      code: "0",
      data: {
        avatar: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1532673938394&di=0bf099e1b7837ae5326aac0b08eb91ba&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01683459f30456a801216a4bf5e9e6.jpg%402o.jpg",
        name: "彭鑫",
        vip: "是",
        vip_price: "0.9",
        price: "8688.00",
        price1: "7989.00",
        money: "8000.00",

        address: {
          addres_one: "上海市奉贤区",
          addres_two: "河南省信阳市"
        }
      }
    };

    var current_user = '';
    var arr = [ ];
    // 产品
    $('#name').text(data.data.name);
    $('#vip_price').text(data.data.vip_price);
    $('#price').text(data.data.price);
    $('#unit').text(data.data.unit);
    $('#quantity').text(data.data.quantity);
    $("#front").attr("src", data.data.pic.front);
    $("#side").attr("src", data.data.pic.side);


    // 判断
    $("#btn").click(function() {
      var user = $("#user option:selected").val();
      if (user == 1) {
        current_user = pengyi;
      } else if (user == 2) {
        current_user = pengxin;
      }

      console.log(current_user);
    });

    //current_user
    $("#avatar").attr("src", current_user.data.avatar);
    $('#name').text(current_user.data.name);
    $('#vip').text(current_user.data.vip);
    $('#price').text(current_user.data.price);
    $('#vip_price').text(current_user.data.vip_price);
    $('#money').text(current_user.data.money);
    $('#input1').var(input1);
    $('#input2').var(input2);

      $("#trues").click(function() {
         if(input1=1){
           input1="上海市奉贤区";
         }else{
            input1="河南省信阳市";
         }
         if(current_user.data.money>current_user.data.price){
           input2=current_user.data.money - current_user.data.price * current_user.data.vip_price;
         }

           var message{
             {name:"current_user.data.name",count:"current_user.data.price";thing:"data.data.name"};
             arr.push(message);
           }
      });


       $("#jilu").click(function() {
         for(i=1,i<arr.length-1,i++){
           arr.q2 +="<p>+arr{name:"current_user.data.name",count:"current_user.data.price";thing:"data.data.name"}+;"
         }

       });

  </script>

</body>

</html>
